<div style="position: fixed; top: 20px; right: 20px; z-index: 9999; background: white;
           padding: 5px; border-radius: 8px; box-shadow: 0 2px 10px rgba(0,0,0,0.1);"
     xmlns:th="http://www.w3.org/1999/xhtml">

    <!-- –ü—Ä–æ–≤–µ—Ä–∫–∞: –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω –ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å (–Ω–µ anonymous) -->
    <div th:if="${#authorization.expression('isAuthenticated()')}">
        <!-- –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ anonymousUser -->
        <div th:if="${#authentication.name != 'anonymousUser'}">
            <!-- –†–µ–∞–ª—å–Ω—ã–π –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å -->
            <div style="display: flex; gap: 10px; align-items: center;">
                <a th:href="@{/users/profile}"
                   style="display: flex; align-items: center; gap: 5px;
          padding: 6px 12px; background: white; border: 1px solid #ddd;
          border-radius: 4px; text-decoration: none; color: #333; font-size: 14px;">

                    <div style="width: 20px; height: 20px; background-color: #4CAF50;
              border-radius: 50%; display: flex; align-items: center;
              justify-content: center; color: white; font-size: 10px;">
                        üë§
                    </div>

                    <span th:text="${#authentication.name}">–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å</span>
                </a>

                <form th:method="post" th:action="@{/users/logout}" style="margin: 0;">
                    <button type="submit" style="padding: 6px 12px; background: #f8f9fa;
                           border: 1px solid #dc3545; border-radius: 4px; color: #dc3545;
                           cursor: pointer; font-size: 14px;">
                        –í—ã–π—Ç–∏
                    </button>
                </form>
            </div>
        </div>

        <!-- –ï—Å–ª–∏ —ç—Ç–æ anonymousUser (–Ω–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω –ø–æ —Ñ–∞–∫—Ç—É) -->
        <div th:if="${#authentication.name == 'anonymousUser'}">
            <div style="display: flex; gap: 10px;">
                <a th:href="@{/users/register}" style="display: flex; align-items: center; gap: 5px;
                   padding: 6px 12px; background: #f8f9fa; border: 1px solid #ddd;
                   border-radius: 4px; text-decoration: none; color: #666; font-size: 14px;">
                    <div style="width: 20px; height: 20px; background-color: #ccc;
                               border-radius: 50%; display: flex; align-items: center;
                               justify-content: center; color: white; font-size: 10px;">
                        üë§
                    </div>
                    <span>–ü—Ä–æ—Ñ–∏–ª—å</span>
                </a>

                <a th:href="@{/users/login}" style="padding: 6px 12px; border: 1px solid #4CAF50;
                   color: #4CAF50; text-decoration: none; border-radius: 4px; font-size: 14px;">
                    –í–æ–π—Ç–∏
                </a>
                <a th:href="@{/users/register}" style="padding: 6px 12px; background: #4CAF50;
                   color: white; text-decoration: none; border-radius: 4px; font-size: 14px;">
                    –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è
                </a>
            </div>
        </div>
    </div>

    <div th:unless="${#authorization.expression('isAuthenticated()')}">
        <div style="display: flex; gap: 10px;">
            <a th:href="@{/users/login}" style="padding: 8px 16px; border: 1px solid #4CAF50;
               color: #4CAF50; text-decoration: none; border-radius: 4px; font-size: 14px;">
                –í–æ–π—Ç–∏
            </a>
            <a th:href="@{/users/register}" style="padding: 8px 16px; background: #4CAF50;
               color: white; text-decoration: none; border-radius: 4px; font-size: 14px;">
                –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è
            </a>
        </div>
    </div>
</div>